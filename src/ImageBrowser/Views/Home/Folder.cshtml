@using System.IO
@model ImageBrowser.Models.FolderModel
@{
    string folderDisplayName = Model.CurrentFolder.Replace(Path.DirectorySeparatorChar + "", " > ").Or("Root folder");
    
    ViewBag.Title = folderDisplayName;
}

<h2>@folderDisplayName</h2>

<div class="thumbnails">
    @foreach (var folder in Model.Folders)
    {
        <div class="thumbnail" style="width: 160px; display: inline-block">
            @Html.ActionLink(folder.ShortName, "Index", new { path = folder.RelativeName })
        </div>
    }

    @foreach (var file in Model.Files)
    {
        <div class="thumbnail" style="width: 160px; display: inline-block">
            <a href="@Url.Action("Image", new {path = file.RelativeName})">
                <img src="@Url.Action("Thumbnail", new {path = file.RelativeName})" width="@Application.ThumbnailSize" height="@Application.ThumbnailSize" />
            </a>
            <br/>
            @file.ShortName
        </div>
    }
</div>