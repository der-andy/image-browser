@using System.IO
@model ImageBrowser.Models.FolderModel
@{
    string folderDisplayName = Model.CurrentFolder.Replace(Path.DirectorySeparatorChar + "", " > ").Or("Root folder");
    
    ViewBag.Title = folderDisplayName;
}

<h2>@folderDisplayName</h2>

<div class="thumbnails">
    @foreach (var folder in Model.Folders)
    {
        <div class="thumb" style="width: @(Application.ThumbnailSize)px; display: inline-block">
            <a href="@Url.Action("Index", new { path = folder.RelativeName })" title="Folder: @folder.ShortName">
                <img src="@Url.Action("FolderThumbnail", new {path = folder.RelativeName})" width="@Application.ThumbnailSize" height="@Application.ThumbnailSize" />
            </a>
        </div>
    }

    @foreach (var file in Model.Files)
    {
        <div class="thumb" style="width: @(Application.ThumbnailSize)px; display: inline-block">
            <a href="@Url.Action("Image", new {path = file.RelativeName})" title="@file.ShortName">
                <img src="@Url.Action("Thumbnail", new {path = file.RelativeName})" width="@Application.ThumbnailSize" height="@Application.ThumbnailSize" />
            </a>
        </div>
    }
</div>